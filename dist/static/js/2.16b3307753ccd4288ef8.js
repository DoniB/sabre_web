webpackJsonp([2],{boDw:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("tl5J"),t=s("ESwS"),r=s("+cKO"),d={mixins:[t.validationMixin],data:function(){return{title:"Cadastrar Novo Usuário",sending:!1,emailTaken:!1,user:{username:"",email:"",password:"",is_admin:!1,active:!0}}},methods:{validateUser:function(){this.$v.$touch(),this.$v.$invalid||(this.sending=!0,this.createUser())},getValidationClass:function(e){var a=this.$v.user[e];if(a)return{"md-invalid":a.$invalid&&a.$dirty}},createUser:function(){var e=this;this.remote.adm.users.create(this.$cookie.get("SecureToken"),this.user,function(){e.$router.push({name:"dashboard.users"})},function(a){"has already been taken"===a.data.errors.email[0]&&(e.emailTaken=!0,e.sending=!1)})}},validations:{user:{username:{required:r.required},email:{required:r.required,email:r.email},password:{required:r.required}}},components:{Dashboard:i.a}},n={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("dashboard",{attrs:{title:e.title}},[s("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(e){e.preventDefault()}}},[s("md-card",{staticClass:"md-layout-item md-size-70 md-small-size-100 md-size-large-50"},[s("md-card-header",[s("h2",{staticClass:"md-card-title"},[e._v("Novo")])]),e._v(" "),s("md-card-content",[s("div",{staticClass:"md-layout md-gutter"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-field",{class:e.getValidationClass("username")},[s("label",{attrs:{for:"username"}},[e._v("Nome: ")]),e._v(" "),s("md-input",{attrs:{name:"username",autocomplete:"name",id:"username",disabled:e.sending},model:{value:e.user.username,callback:function(a){e.$set(e.user,"username",a)},expression:"user.username"}})],1)],1),e._v(" "),s("div",{staticClass:"md-layout-item md-size-100"},[s("md-field",{class:e.getValidationClass("email")},[s("label",{attrs:{for:"email"}},[e._v("E-mail: ")]),e._v(" "),s("md-input",{attrs:{type:"email",name:"email",autocomplete:"email",id:"email",disabled:e.sending},model:{value:e.user.email,callback:function(a){e.$set(e.user,"email",a)},expression:"user.email"}})],1)],1),e._v(" "),s("div",{staticClass:"md-layout-item md-size-100"},[s("md-field",{class:e.getValidationClass("password")},[s("label",{attrs:{for:"password"}},[e._v("Senha: ")]),e._v(" "),s("md-input",{attrs:{type:"password",name:"password",autocomplete:"password",id:"password",disabled:e.sending},model:{value:e.user.password,callback:function(a){e.$set(e.user,"password",a)},expression:"user.password"}})],1)],1),e._v(" "),s("div",{staticClass:"md-layout-item md-size-100"},[s("br"),e._v(" "),s("label",[e._v("Administrador?")]),e._v(" "),s("div",[s("md-radio",{attrs:{value:!1},model:{value:e.user.is_admin,callback:function(a){e.$set(e.user,"is_admin",a)},expression:"user.is_admin"}},[e._v("Não")]),e._v(" "),s("md-radio",{attrs:{value:!0},model:{value:e.user.is_admin,callback:function(a){e.$set(e.user,"is_admin",a)},expression:"user.is_admin"}},[e._v("Sim")])],1)]),e._v(" "),s("div",{staticClass:"md-layout-item md-size-100"},[s("br"),e._v(" "),s("label",[e._v("Ativo?")]),e._v(" "),s("div",[s("md-radio",{attrs:{value:!1},model:{value:e.user.active,callback:function(a){e.$set(e.user,"active",a)},expression:"user.active"}},[e._v("Não")]),e._v(" "),s("md-radio",{attrs:{value:!0},model:{value:e.user.active,callback:function(a){e.$set(e.user,"active",a)},expression:"user.active"}},[e._v("Sim")])],1)])])]),e._v(" "),e.sending?s("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):e._e(),e._v(" "),s("md-card-actions",[s("md-button",{staticClass:"md-primary",attrs:{type:"submit",disabled:e.sending},on:{click:e.validateUser}},[e._v(" Salvar ")])],1)],1),e._v(" "),s("md-snackbar",{attrs:{"md-position":"center","md-duration":1/0,"md-active":e.emailTaken,"md-persistent":""},on:{"update:mdActive":function(a){e.emailTaken=a}}},[s("span",[e._v("Este email já está em uso")]),e._v(" "),s("md-button",{staticClass:"md-primary",on:{click:function(a){e.emailTaken=!1}}},[e._v("Fechar")])],1)],1)])},staticRenderFns:[]},l=s("VU/8")(d,n,!1,null,null,null);a.default=l.exports}});
//# sourceMappingURL=2.16b3307753ccd4288ef8.js.map