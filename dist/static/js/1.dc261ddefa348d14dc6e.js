webpackJsonp([1],{"+u/8":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),r=a.n(s),n=a("tl5J"),i={props:{currentPage:{required:!0,type:Number},totalPages:{required:!0,type:Number}},methods:{changePage:function(t){this.$emit("change",this.currentPage+t)}},computed:{canReduce:function(){return this.currentPage>0},canIncrease:function(){return this.currentPage<this.totalPages-1}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-layout md-alignment-top-center"},[a("div",{staticClass:"paginate-control"},[a("md-button",{staticClass:"md-icon-button",attrs:{disabled:!t.canReduce},on:{click:function(e){t.changePage(-1)}}},[a("md-icon",[t._v("arrow_left")])],1),t._v(" "),a("span",{staticClass:"paginate-control-value"},[t._v(t._s(t.currentPage+1))]),t._v(" "),a("md-button",{staticClass:"md-icon-button",attrs:{disabled:!t.canIncrease},on:{click:function(e){t.changePage(1)}}},[a("md-icon",[t._v("arrow_right")])],1)],1)])},staticRenderFns:[]};var c=a("VU/8")(i,o,!1,function(t){a("HeLL")},"data-v-fc42c36a",null).exports,d={data:function(){return{users:[],title:"Usuários",search:"",showUserStateDialog:!1,currentUserForChangeState:{},showSnackbar:!1,currentPage:0,pages:0}},methods:{searchByName:function(){this.loadUsers()},loadUsers:function(){this.remote.adm.users.index(this.$cookie.get("SecureToken"),this.currentPage,this.search,this.usersLoaded)},usersLoaded:function(t){this.pages=t.data.page.total,this.users=t.data.users},updatePage:function(t){this.currentPage=t,this.loadUsers()},editUser:function(t){this.$router.push({name:"dashboard.users.edit",params:{id:t.id}})},showUserActiveStateSwapDialog:function(t){this.currentUserForChangeState=t,this.showUserStateDialog=!0},updateUserActiveState:function(){var t=this.currentUserForChangeState,e=r()({},t);e.active=!t.active,this.remote.adm.users.update(this.$cookie.get("SecureToken"),e,function(){t.active=e.active}),this.showUserStateDialog=!1}},filters:{toLocalTime:function(t){return new Date(t).toLocaleString()}},components:{Dashboard:n.a,Paginate:c},created:function(){this.loadUsers()}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("dashboard",{attrs:{title:t.title}},[a("md-table",{attrs:{"md-card":""},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{class:{inactive:!s.active},on:{click:function(e){t.editUser(s)}}},[a("md-table-cell",{attrs:{"md-label":"ID","md-numeric":""}},[t._v(t._s(s.id))]),t._v(" "),a("md-table-cell",{attrs:{"md-label":"Nome"}},[t._v(t._s(s.username))]),t._v(" "),a("md-table-cell",{attrs:{"md-label":"Email"}},[t._v(t._s(s.email))]),t._v(" "),a("md-table-cell",{attrs:{"md-label":"Cadastrado"}},[t._v(t._s(t._f("toLocalTime")(s.created_at)))]),t._v(" "),a("md-table-cell",{attrs:{"md-label":"Atualizado"}},[t._v(t._s(t._f("toLocalTime")(s.updated_at)))]),t._v(" "),a("md-table-cell",{attrs:{"md-label":"Adm"}},[t._v(t._s(s.is_admin?"Sim":"Não"))]),t._v(" "),a("md-table-cell",[a("div",{on:{click:function(e){e.stopPropagation(),t.showUserActiveStateSwapDialog(s)}}},[a("md-icon",[t._v(t._s(s.active?"block":"add_circle_outline"))])],1)])],1)}}]),model:{value:t.users,callback:function(e){t.users=e},expression:"users"}},[a("md-table-toolbar",[a("md-field",{staticClass:"md-toolbar-section-start",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Procurar por nome"},on:{keypress:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.searchByName(e):null}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("md-button",{staticClass:"md-icon-button",on:{input:t.searchByName}},[a("md-icon",[t._v("search")])],1)],1)],1),t._v(" "),a("paginate",{staticClass:"md-layout-item",attrs:{currentPage:t.currentPage,totalPages:t.pages},on:{change:t.updatePage}}),t._v(" "),a("div",{staticClass:"add-user"},[a("md-button",{staticClass:"md-fab md-primary",attrs:{to:{name:"dashboard.users.new"}}},[a("md-icon",[t._v("add")])],1)],1),t._v(" "),a("md-dialog",{attrs:{"md-active":t.showUserStateDialog},on:{"update:mdActive":function(e){t.showUserStateDialog=e}}},[a("md-dialog-title",[t._v("Alterar usuário "+t._s(t.currentUserForChangeState.username)+"?")]),t._v(" "),a("div",{staticClass:"dialog-content"},[t.currentUserForChangeState.active?a("div",[t._v("Ao confirmar esta ação não será mais possivel efetuar login com esta conta")]):a("div",[t._v("Ao confirmar esta ação esta conta estará apta a efetuar login novamente")])]),t._v(" "),a("md-dialog-actions",[a("md-button",{staticClass:"md-primary",on:{click:t.updateUserActiveState}},[t._v(t._s(t.currentUserForChangeState.active?"Desativar":"Ativar"))]),t._v(" "),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showUserStateDialog=!1}}},[t._v("Cancelar")])],1)],1)],1)},staticRenderFns:[]};var u=a("VU/8")(d,l,!1,function(t){a("zezH")},"data-v-75212a86",null);e.default=u.exports},HeLL:function(t,e){},zezH:function(t,e){}});
//# sourceMappingURL=1.dc261ddefa348d14dc6e.js.map