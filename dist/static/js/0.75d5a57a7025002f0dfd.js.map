{"version":3,"sources":["webpack:///src/components/comments/Comment.vue","webpack:///./src/components/comments/Comment.vue?872a","webpack:///./src/components/comments/Comment.vue","webpack:///src/components/comments/Comments.vue","webpack:///./src/components/comments/Comments.vue?7fc6","webpack:///./src/components/comments/Comments.vue","webpack:///src/components/shared/Rating.vue","webpack:///./src/components/shared/Rating.vue?ad80","webpack:///./src/components/shared/Rating.vue","webpack:///src/components/recipe/Show.vue","webpack:///./src/components/recipe/Show.vue?be69","webpack:///./src/components/recipe/Show.vue"],"names":["Comment","mixins","date","props","methods","destroy","_this","this","console","log","remote","recipes","comments","delete","$store","state","secureToken","comment","response","$emit","error","computed","isAdmin","comments_Comment","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","username","attrs","tag","to","name","params","id","user_id","_e","text","_f","created_at","href","on","click","$event","preventDefault","staticRenderFns","components_comments_Comment","__webpack_require__","normalizeComponent","ssrContext","Comments","data","sendClicked","disableSend","notCommented","sendComment","invalidMessage","token","$cookie","get","create","recipeId","commentCreated","commentErrorCreating","push","window","scrollTo","document","body","scrollHeight","canComment","isAuth","router","path","query","redirect","currentRoute","fullPath","removeComment","i","length","splice","created","index","components","comments_Comments","md-theme","class","md-invalid","required","md-autogrow","focus","model","value","callback","$$v","expression","disabled","_l","c","key","commentDeleted","components_comments_Comments","Comments_normalizeComponent","Rating","stars","ratingSelected","rating","loadUserRating","loadUserRatingError","averageStars","show","StarRating","a","shared_Rating","star-size","rounded-corners","show-rating","padding","rating-selected","components_shared_Rating","Rating_normalizeComponent","axios","Show","recipe","isLoading","setRecipe","$route","then","catch","Loading","FavoriteButton","recipe_Show","staticStyle","max-width","src","alt","owner","average_stars","ingredients","split","ingredient","directions","direction","Show_Component","Show_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/0.75d5a57a7025002f0dfd.js","sourcesContent":["<template>\n  <div class=\"comment\">\n    <p><span class=\"comment-text\">\n      <span class=\"mutted\">{{ comment.username || 'Usuário' }}\n        <router-link v-if=\"isAdmin\" tag=\"a\" :to=\"{name: 'dashboard.users.edit', params: {id: comment.user_id}}\" class=\"edit-user-link\">\n          <md-icon>edit</md-icon>\n        </router-link>\n      </span>\n        {{ comment.text }}\n        <span class=\"mutted comment-time\">{{ comment.created_at | timePassed }}</span>\n        <a v-if=\"isAdmin\" href=\"#end-comments\" @click.prevent=\"destroy\" class=\"delete-comment-link\">\n          <md-icon>delete</md-icon>\n        </a>\n      </span></p>\n  </div>\n</template>\n\n<script>\nimport DateMixin from '@/app_library/date.js'\n\nexport default {\n  mixins: [\n    DateMixin\n  ],\n  props: ['comment'],\n  methods: {\n    destroy () {\n      console.log(this.remote.recipes.comments.delete(\n        this.$store.state.secureToken,\n        this.comment,\n        response => {\n          this.$emit('commentDeleted', this.comment)\n        },\n        error => {\n          console.log(error)\n        }\n      ))\n    }\n  },\n  computed: {\n    isAdmin () {\n      return this.$store.state.isAdmin\n    }\n  }\n}\n</script>\n\n<style scoped>\n.comment {\n  margin: 3px;\n  padding: 3px;\n}\n\n.comment-text {\n  background-color: white;\n  padding: 10px;\n  border-radius: 15px;\n}\n\n.comment-time {\n  font-size: .8em;\n}\n\n.mutted {\n  color: #8f8f8f;\n  font-style: italic;\n}\n\na.edit-user-link .md-icon, a.delete-comment-link .md-icon {\n  font-size: 1.2em !important;\n  color: #8f8f8f !important;\n}\n\na.edit-user-link:hover, a.delete-comment-link:hover {\n  text-decoration: none;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/comments/Comment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment\"},[_c('p',[_c('span',{staticClass:\"comment-text\"},[_c('span',{staticClass:\"mutted\"},[_vm._v(_vm._s(_vm.comment.username || 'Usuário')+\"\\n      \"),(_vm.isAdmin)?_c('router-link',{staticClass:\"edit-user-link\",attrs:{\"tag\":\"a\",\"to\":{name: 'dashboard.users.edit', params: {id: _vm.comment.user_id}}}},[_c('md-icon',[_vm._v(\"edit\")])],1):_vm._e()],1),_vm._v(\"\\n      \"+_vm._s(_vm.comment.text)+\"\\n      \"),_c('span',{staticClass:\"mutted comment-time\"},[_vm._v(_vm._s(_vm._f(\"timePassed\")(_vm.comment.created_at)))]),_vm._v(\" \"),(_vm.isAdmin)?_c('a',{staticClass:\"delete-comment-link\",attrs:{\"href\":\"#end-comments\"},on:{\"click\":function($event){$event.preventDefault();return _vm.destroy($event)}}},[_c('md-icon',[_vm._v(\"delete\")])],1):_vm._e()])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7d2f2c80\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/Comment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7d2f2c80\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Comment.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Comment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Comment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7d2f2c80\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Comment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7d2f2c80\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/comments/Comment.vue\n// module id = null\n// module chunks = ","<template>\n  <md-card md-theme=\"comment-card\" class=\"md-primary\">\n    <md-card-content>\n      <div v-if=\"notCommented\">\n        <md-card-header class=\"md-transparent\">\n          <h3 class=\"md-title\">Comentários</h3>\n        </md-card-header>\n        <br>\n        <md-field :class=\"{'md-invalid': invalidMessage}\">\n          <label>Seu comentário</label>\n          <md-textarea @focus=\"canComment\" v-model=\"text\" required md-autogrow></md-textarea>\n          <span class=\"md-helper-text\">Deixe sua opinião sobre esta receita</span>\n          <span class=\"md-error\">A mensagem deve ter no mínimo 10 caracteres</span>\n        </md-field>\n        <div class=\"pull-rigth\">\n          <md-button @click=\"sendComment\" :disabled=\"disableSend\">Comentar</md-button>\n        </div>\n      </div>\n      <md-divider></md-divider>\n      <comment @commentDeleted=\"removeComment\" v-for=\"c in comments\" :comment=\"c\" :key=\"'com' + c.id\"></comment>\n    </md-card-content>\n    <div id=\"end-comments\"></div>\n  </md-card>\n</template>\n\n<script>\nimport Comment from './Comment.vue'\nimport router from '@/router'\n\nexport default {\n  props: ['recipeId'],\n  data () {\n    return {\n      text: '',\n      sendClicked: false,\n      disableSend: false,\n      notCommented: true,\n      comments: []\n    }\n  },\n  methods: {\n    sendComment () {\n      this.sendClicked = true\n      if (this.invalidMessage) return\n      this.disableSend = true\n      const token = this.$cookie.get('SecureToken')\n      this.remote.recipes.comments.create(\n        token, this.recipeId, this.text, this.commentCreated, this.commentErrorCreating\n      )\n    },\n    commentCreated (response) {\n      this.notCommented = false\n      this.text = response.data.text\n      this.comments.push(response.data)\n      window.scrollTo(0, document.body.scrollHeight)\n    },\n    commentErrorCreating (response) {\n      this.disableSend = false\n      console.log('error', response)\n    },\n    canComment () {\n      if (!this.isAuth()) {\n        router.push({\n          path: '/sign',\n          query: { redirect: router.currentRoute.fullPath }\n        })\n      }\n    },\n    removeComment (comment) {\n      for (let i = 0; i < this.comments.length; i++) {\n        if (this.comments[i] === comment) {\n          this.comments.splice(i, 1)\n          return\n        }\n      }\n    }\n  },\n  computed: {\n    invalidMessage () {\n      return this.sendClicked && this.text.length < 10\n    }\n  },\n  created () {\n    this.remote.recipes.comments.index(this.recipeId, response => {\n      this.comments = response.data\n    })\n  },\n  components: {\n    Comment\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.pull-rigth {\n  text-align: right;\n}\n\n.mutted {\n  color: #8f8f8f\n}\n\n@import \"~vue-material/dist/theme/engine\";\n\n@include md-register-theme(\"comment-card\", (\n  primary: #f9f9f9\n));\n\n@import \"~vue-material/dist/theme/all\";\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/comments/Comments.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('md-card',{staticClass:\"md-primary\",attrs:{\"md-theme\":\"comment-card\"}},[_c('md-card-content',[(_vm.notCommented)?_c('div',[_c('md-card-header',{staticClass:\"md-transparent\"},[_c('h3',{staticClass:\"md-title\"},[_vm._v(\"Comentários\")])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('md-field',{class:{'md-invalid': _vm.invalidMessage}},[_c('label',[_vm._v(\"Seu comentário\")]),_vm._v(\" \"),_c('md-textarea',{attrs:{\"required\":\"\",\"md-autogrow\":\"\"},on:{\"focus\":_vm.canComment},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),_vm._v(\" \"),_c('span',{staticClass:\"md-helper-text\"},[_vm._v(\"Deixe sua opinião sobre esta receita\")]),_vm._v(\" \"),_c('span',{staticClass:\"md-error\"},[_vm._v(\"A mensagem deve ter no mínimo 10 caracteres\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"pull-rigth\"},[_c('md-button',{attrs:{\"disabled\":_vm.disableSend},on:{\"click\":_vm.sendComment}},[_vm._v(\"Comentar\")])],1)],1):_vm._e(),_vm._v(\" \"),_c('md-divider'),_vm._v(\" \"),_vm._l((_vm.comments),function(c){return _c('comment',{key:'com' + c.id,attrs:{\"comment\":c},on:{\"commentDeleted\":_vm.removeComment}})})],2),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"end-comments\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-95f9d95c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/Comments.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-95f9d95c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Comments.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Comments.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Comments.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-95f9d95c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Comments.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-95f9d95c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/comments/Comments.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <star-rating\n      v-model=\"stars\"\n      :star-size=\"25\"\n      rounded-corners\n      :show-rating=\"false\"\n      :padding=\"1\"\n      @rating-selected=\"ratingSelected\"></star-rating>\n  </div>\n</template>\n\n<script>\nimport StarRating from 'vue-star-rating'\nimport router from '@/router'\n\nexport default {\n  props:\n    ['recipeId', 'averageStars'],\n  data () {\n    return {\n      stars: 0\n    }\n  },\n  methods: {\n    ratingSelected (value) {\n      if (this.isAuth()) {\n        this.remote.recipes.rating.create(\n          this.recipeId,\n          value,\n          this.$cookie.get('SecureToken'),\n          this.loadUserRating,\n          this.loadUserRatingError\n        )\n      } else {\n        router.push({\n          path: '/sign',\n          query: { redirect: router.currentRoute.fullPath }\n        })\n      }\n    },\n    loadUserRating (response) {\n      if (response.data) {\n        this.stars = response.data.stars\n      }\n    },\n    loadUserRatingError (data) {\n      console.log(data)\n    }\n  },\n  created () {\n    this.stars = this.averageStars\n    if (this.isAuth()) {\n      this.remote.recipes.rating.show(\n        this.recipeId,\n        this.$cookie.get('SecureToken'),\n        this.loadUserRating,\n        this.loadUserRatingError)\n    }\n  },\n  components: {\n    StarRating\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/shared/Rating.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('star-rating',{attrs:{\"star-size\":25,\"rounded-corners\":\"\",\"show-rating\":false,\"padding\":1},on:{\"rating-selected\":_vm.ratingSelected},model:{value:(_vm.stars),callback:function ($$v) {_vm.stars=$$v},expression:\"stars\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e964dd8e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/shared/Rating.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Rating.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Rating.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e964dd8e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Rating.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/shared/Rating.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <loading v-if=\"isLoading\"></loading>\n    <div v-else class=\"md-layout md-gutter md-alignment-top-center\">\n      <md-card style=\"max-width: 680px;\">\n        <md-card-media>\n          <img src=\"/static/img/demo.jpg\" alt=\"Demo\">\n          <md-button v-if=\"isAdmin\" :to=\"{name: 'dashboard.recipes.edit', params: {id: recipe.id}}\" class=\"md-fab md-fab-top-left\">\n            <md-icon>edit</md-icon>\n          </md-button>\n          <favorite-button :recipeId=\"recipe.id\" class=\"favorite-button\"></favorite-button>\n        </md-card-media>\n\n        <md-card-header>\n          <div class=\"md-title\">{{ recipe.name }}</div>\n          <div class=\"md-subhead\">\n            {{ recipe.owner }}\n            <router-link v-if=\"isAdmin\" tag=\"a\" :to=\"{name: 'dashboard.users.edit', params: {id: recipe.user_id}}\" class=\"edit-user-link\">\n              <md-icon>edit</md-icon>\n            </router-link>\n            <div class=\"md-subhead recipe-date\">{{ recipe.created_at | timePassed }}</div>\n            </div>\n        </md-card-header>\n\n        <md-card-actions>\n          <rating :recipeId=\"recipe.id\" :averageStars=\"recipe.average_stars\"></rating>\n        </md-card-actions>\n\n        <md-card-content id=\"recipe-content\">\n          <div>\n            <md-toolbar class=\"md-transparent\">\n              <h3 class=\"md-title\">Ingredientes</h3>\n            </md-toolbar>\n            <br>\n            <ul>\n              <li v-for=\"(ingredient, index) in recipe.ingredients.split('\\n')\" :key=\"'ing' + index\" v-if=\"ingredient\">\n                {{ ingredient }}\n              </li>\n            </ul>\n            <br><br>\n          </div>\n          <div>\n            <md-toolbar class=\"md-transparent\">\n              <h3 class=\"md-title\">Modo de preparo</h3>\n            </md-toolbar>\n            <br>\n            <ol>\n              <li v-for=\"(direction, index) in recipe.directions.split('\\n')\" :key=\"'dir' + index\">\n                {{ direction }}\n              </li>\n            </ol>\n            <br>\n          </div>\n        </md-card-content>\n        <md-card-content>\n          <comments :recipeId=\"recipe.id\"></comments>\n        </md-card-content>\n      </md-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loading from '@/components/shared/Loading.vue'\nimport Comments from '@/components/comments/Comments.vue'\nimport Rating from '@/components/shared/Rating.vue'\nimport FavoriteButton from '@/components/shared/FavoriteButton.vue'\nimport DateMixin from '@/app_library/date.js'\nconst axios = require('axios')\n\nexport default {\n  mixins: [\n    DateMixin\n  ],\n  data () {\n    return {\n      recipe: {},\n      isLoading: true\n    }\n  },\n  computed: {\n    isAdmin () {\n      return this.$store.state.isAdmin\n    }\n  },\n  methods: {\n    setRecipe (response) {\n      this.recipe = response.data\n      this.isLoading = false\n      console.log(this.recipe)\n    }\n  },\n  created () {\n    axios\n      .get('https://sabre-api.herokuapp.com/api/v1/recipes/' + this.$route.params.id)\n      .then(this.setRecipe)\n      .catch((error) => { console.log(error) })\n  },\n  components: {\n    Loading,\n    Comments,\n    Rating,\n    FavoriteButton\n  }\n}\n</script>\n\n<style scoped>\n.edit-user-link .md-icon {\n  font-size: 1.2em !important;\n}\n\n.recipe-date {\n    text-align: right;\n}\n\n.favorite-button {\n    top: 10px;\n    right: 10px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/recipe/Show.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isLoading)?_c('loading'):_c('div',{staticClass:\"md-layout md-gutter md-alignment-top-center\"},[_c('md-card',{staticStyle:{\"max-width\":\"680px\"}},[_c('md-card-media',[_c('img',{attrs:{\"src\":\"/static/img/demo.jpg\",\"alt\":\"Demo\"}}),_vm._v(\" \"),(_vm.isAdmin)?_c('md-button',{staticClass:\"md-fab md-fab-top-left\",attrs:{\"to\":{name: 'dashboard.recipes.edit', params: {id: _vm.recipe.id}}}},[_c('md-icon',[_vm._v(\"edit\")])],1):_vm._e(),_vm._v(\" \"),_c('favorite-button',{staticClass:\"favorite-button\",attrs:{\"recipeId\":_vm.recipe.id}})],1),_vm._v(\" \"),_c('md-card-header',[_c('div',{staticClass:\"md-title\"},[_vm._v(_vm._s(_vm.recipe.name))]),_vm._v(\" \"),_c('div',{staticClass:\"md-subhead\"},[_vm._v(\"\\n          \"+_vm._s(_vm.recipe.owner)+\"\\n          \"),(_vm.isAdmin)?_c('router-link',{staticClass:\"edit-user-link\",attrs:{\"tag\":\"a\",\"to\":{name: 'dashboard.users.edit', params: {id: _vm.recipe.user_id}}}},[_c('md-icon',[_vm._v(\"edit\")])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"md-subhead recipe-date\"},[_vm._v(_vm._s(_vm._f(\"timePassed\")(_vm.recipe.created_at)))])],1)]),_vm._v(\" \"),_c('md-card-actions',[_c('rating',{attrs:{\"recipeId\":_vm.recipe.id,\"averageStars\":_vm.recipe.average_stars}})],1),_vm._v(\" \"),_c('md-card-content',{attrs:{\"id\":\"recipe-content\"}},[_c('div',[_c('md-toolbar',{staticClass:\"md-transparent\"},[_c('h3',{staticClass:\"md-title\"},[_vm._v(\"Ingredientes\")])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('ul',_vm._l((_vm.recipe.ingredients.split('\\n')),function(ingredient,index){return (ingredient)?_c('li',{key:'ing' + index},[_vm._v(\"\\n              \"+_vm._s(ingredient)+\"\\n            \")]):_vm._e()})),_vm._v(\" \"),_c('br'),_c('br')],1),_vm._v(\" \"),_c('div',[_c('md-toolbar',{staticClass:\"md-transparent\"},[_c('h3',{staticClass:\"md-title\"},[_vm._v(\"Modo de preparo\")])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('ol',_vm._l((_vm.recipe.directions.split('\\n')),function(direction,index){return _c('li',{key:'dir' + index},[_vm._v(\"\\n              \"+_vm._s(direction)+\"\\n            \")])})),_vm._v(\" \"),_c('br')],1)]),_vm._v(\" \"),_c('md-card-content',[_c('comments',{attrs:{\"recipeId\":_vm.recipe.id}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c685156\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/recipe/Show.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3c685156\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Show.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Show.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Show.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3c685156\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Show.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3c685156\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/recipe/Show.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}