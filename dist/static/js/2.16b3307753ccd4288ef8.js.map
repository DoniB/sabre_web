{"version":3,"sources":["webpack:///src/components/dashboard/users/New.vue","webpack:///./src/components/dashboard/users/New.vue?cc9d","webpack:///./src/components/dashboard/users/New.vue"],"names":["New","mixins","lib","data","title","sending","emailTaken","user","username","email","password","is_admin","active","methods","validateUser","this","$v","$touch","$invalid","createUser","getValidationClass","fieldName","field","md-invalid","$dirty","_this","remote","adm","users","create","$cookie","get","$router","push","name","err","errors","validations","required","validators","components","Dashboard","Frame","users_New","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","novalidate","on","submit","$event","preventDefault","_v","class","for","autocomplete","id","disabled","model","value","callback","$$v","$set","expression","type","md-mode","_e","click","md-position","md-duration","Infinity","md-active","md-persistent","update:mdActive","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/2.16b3307753ccd4288ef8.js","sourcesContent":["<template>\n  <dashboard :title=\"title\">\n    <form novalidate class=\"md-layout\" @submit.prevent>\n      <md-card class=\"md-layout-item md-size-70 md-small-size-100 md-size-large-50\">\n        <md-card-header>\n          <h2 class=\"md-card-title\">Novo</h2>\n        </md-card-header>\n\n        <md-card-content>\n        <div class=\"md-layout md-gutter\">\n          <div class=\"md-layout-item md-size-100\">\n            <md-field :class=\"getValidationClass('username')\">\n              <label for=\"username\">Nome: </label>\n              <md-input name=\"username\" autocomplete=\"name\" id=\"username\" v-model=\"user.username\" :disabled=\"sending\" />\n            </md-field>\n          </div>\n          <div class=\"md-layout-item md-size-100\">\n            <md-field :class=\"getValidationClass('email')\">\n              <label for=\"email\">E-mail: </label>\n              <md-input type=\"email\" name=\"email\" autocomplete=\"email\" id=\"email\" v-model=\"user.email\" :disabled=\"sending\" />\n            </md-field>\n          </div>\n          <div class=\"md-layout-item md-size-100\">\n            <md-field :class=\"getValidationClass('password')\">\n              <label for=\"password\" >Senha: </label>\n              <md-input type=\"password\" name=\"password\" autocomplete=\"password\" id=\"password\" v-model=\"user.password\" :disabled=\"sending\" />\n            </md-field>\n          </div>\n          <div class=\"md-layout-item md-size-100\">\n            <br>\n            <label>Administrador?</label>\n            <div>\n              <md-radio v-model=\"user.is_admin\" :value=\"false\">Não</md-radio>\n              <md-radio v-model=\"user.is_admin\" :value=\"true\">Sim</md-radio>\n            </div>\n          </div>\n          <div class=\"md-layout-item md-size-100\">\n            <br>\n            <label>Ativo?</label>\n            <div>\n              <md-radio v-model=\"user.active\" :value=\"false\">Não</md-radio>\n              <md-radio v-model=\"user.active\" :value=\"true\">Sim</md-radio>\n            </div>\n          </div>\n        </div>\n      </md-card-content>\n\n      <md-progress-bar md-mode=\"indeterminate\" v-if=\"sending\" />\n\n      <md-card-actions>\n        <md-button @click=\"validateUser\" type=\"submit\" class=\"md-primary\" :disabled=\"sending\"> Salvar </md-button>\n      </md-card-actions>\n      </md-card>\n\n      <md-snackbar :md-position=\"'center'\" :md-duration=\"Infinity\" :md-active.sync=\"emailTaken\" md-persistent>\n        <span>Este email já está em uso</span>\n        <md-button class=\"md-primary\" @click=\"emailTaken = false\">Fechar</md-button>\n      </md-snackbar>\n\n    </form>\n  </dashboard>\n</template>\n\n<script>\nimport Dashboard from '@/components/dashboard/Frame.vue'\nimport { validationMixin } from 'vuelidate'\nimport {\n  required,\n  email\n} from 'vuelidate/lib/validators'\n\nexport default {\n  mixins: [validationMixin],\n  data () {\n    return {\n      title: 'Cadastrar Novo Usuário',\n      sending: false,\n      emailTaken: false,\n      user: {\n        username: '',\n        email: '',\n        password: '',\n        is_admin: false,\n        active: true\n      }\n    }\n  },\n  methods: {\n    validateUser () {\n      this.$v.$touch()\n      if (!this.$v.$invalid) {\n        this.sending = true\n        this.createUser()\n      }\n    },\n    getValidationClass (fieldName) {\n      const field = this.$v.user[fieldName]\n\n      if (field) {\n        return {\n          'md-invalid': field.$invalid && field.$dirty\n        }\n      }\n    },\n    createUser () {\n      this.remote.adm.users.create(\n        this.$cookie.get('SecureToken'),\n        this.user,\n        () => {\n          this.$router.push({name: 'dashboard.users'})\n        },\n        (err) => {\n          if (err.data.errors.email[0] === 'has already been taken') {\n            this.emailTaken = true\n            this.sending = false\n          }\n        }\n      )\n    }\n  },\n  validations: {\n    user: {\n      username: {\n        required\n      },\n      email: {\n        required,\n        email\n      },\n      password: {\n        required\n      }\n    }\n  },\n  components: {\n    Dashboard\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/dashboard/users/New.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dashboard',{attrs:{\"title\":_vm.title}},[_c('form',{staticClass:\"md-layout\",attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();}}},[_c('md-card',{staticClass:\"md-layout-item md-size-70 md-small-size-100 md-size-large-50\"},[_c('md-card-header',[_c('h2',{staticClass:\"md-card-title\"},[_vm._v(\"Novo\")])]),_vm._v(\" \"),_c('md-card-content',[_c('div',{staticClass:\"md-layout md-gutter\"},[_c('div',{staticClass:\"md-layout-item md-size-100\"},[_c('md-field',{class:_vm.getValidationClass('username')},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"Nome: \")]),_vm._v(\" \"),_c('md-input',{attrs:{\"name\":\"username\",\"autocomplete\":\"name\",\"id\":\"username\",\"disabled\":_vm.sending},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"md-layout-item md-size-100\"},[_c('md-field',{class:_vm.getValidationClass('email')},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"E-mail: \")]),_vm._v(\" \"),_c('md-input',{attrs:{\"type\":\"email\",\"name\":\"email\",\"autocomplete\":\"email\",\"id\":\"email\",\"disabled\":_vm.sending},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"md-layout-item md-size-100\"},[_c('md-field',{class:_vm.getValidationClass('password')},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Senha: \")]),_vm._v(\" \"),_c('md-input',{attrs:{\"type\":\"password\",\"name\":\"password\",\"autocomplete\":\"password\",\"id\":\"password\",\"disabled\":_vm.sending},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"md-layout-item md-size-100\"},[_c('br'),_vm._v(\" \"),_c('label',[_vm._v(\"Administrador?\")]),_vm._v(\" \"),_c('div',[_c('md-radio',{attrs:{\"value\":false},model:{value:(_vm.user.is_admin),callback:function ($$v) {_vm.$set(_vm.user, \"is_admin\", $$v)},expression:\"user.is_admin\"}},[_vm._v(\"Não\")]),_vm._v(\" \"),_c('md-radio',{attrs:{\"value\":true},model:{value:(_vm.user.is_admin),callback:function ($$v) {_vm.$set(_vm.user, \"is_admin\", $$v)},expression:\"user.is_admin\"}},[_vm._v(\"Sim\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"md-layout-item md-size-100\"},[_c('br'),_vm._v(\" \"),_c('label',[_vm._v(\"Ativo?\")]),_vm._v(\" \"),_c('div',[_c('md-radio',{attrs:{\"value\":false},model:{value:(_vm.user.active),callback:function ($$v) {_vm.$set(_vm.user, \"active\", $$v)},expression:\"user.active\"}},[_vm._v(\"Não\")]),_vm._v(\" \"),_c('md-radio',{attrs:{\"value\":true},model:{value:(_vm.user.active),callback:function ($$v) {_vm.$set(_vm.user, \"active\", $$v)},expression:\"user.active\"}},[_vm._v(\"Sim\")])],1)])])]),_vm._v(\" \"),(_vm.sending)?_c('md-progress-bar',{attrs:{\"md-mode\":\"indeterminate\"}}):_vm._e(),_vm._v(\" \"),_c('md-card-actions',[_c('md-button',{staticClass:\"md-primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.sending},on:{\"click\":_vm.validateUser}},[_vm._v(\" Salvar \")])],1)],1),_vm._v(\" \"),_c('md-snackbar',{attrs:{\"md-position\":'center',\"md-duration\":Infinity,\"md-active\":_vm.emailTaken,\"md-persistent\":\"\"},on:{\"update:mdActive\":function($event){_vm.emailTaken=$event}}},[_c('span',[_vm._v(\"Este email já está em uso\")]),_vm._v(\" \"),_c('md-button',{staticClass:\"md-primary\",on:{\"click\":function($event){_vm.emailTaken = false}}},[_vm._v(\"Fechar\")])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2c27bc24\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/dashboard/users/New.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./New.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./New.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2c27bc24\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./New.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dashboard/users/New.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}